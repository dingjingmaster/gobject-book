# 类型

GType API是GObject系统的基础。它提供了注册和管理所有基本数据类型、用户定义对象和接口类型的工具。

对于类型创建和注册的目的，所有类型都属于以下两类之一：静态或动态。

静态类型永远不会像动态类型那样在运行时加载或卸载。静态类型是用g_type_register_static（）创建的，它获取通过GTypeInfo结构传递进来的特定类型的信息。

动态类型是用`g_type_register_dynamic()`创建的，它采用一个`GTypePlugin`结构。剩余的类型信息（`GTypeInfo`结构）在运行时通过GTypePlugin和`g_type_plugin_*()` API检索。

这些注册函数通常只从一个函数调用一次，其唯一目的是返回特定类的类型标识符。一旦注册了类型（或类或接口），就可以实例化、继承或实现它，具体取决于它是什么类型。

还有第三个注册函数用于注册基本类型，称为`g_type_register_fundamental()`，它需要GTypeInfo结构和GTypeFundamentalInfo结构，但很少使用，因为大多数基本类型都是预定义的，而不是用户定义的。

类型实例和类结构总共限制为64 KiB，包括所有父类型。类似地，类型实例的私有数据（由`G_ADD_PRIVATE()`创建）被限制为总共64 KiB。如果类型实例需要一个大的静态缓冲区，则单独分配它（通常通过使用GArray或GPtrArray），并在结构中放置一个指向缓冲区的指针。

正如GType约定中提到的，类型名必须至少有三个字符长。没有上限长度限制。首字符必须为字母（a-z或A-Z）或下划线（_）。后面的字符可以是字母、数字或“-_+”中的任何一个。
